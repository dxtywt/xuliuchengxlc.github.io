---
layout: post
title: vim备忘录
tags: vim
disqus: y
---

* TOC
{:toc}

### 在当前行 ( current line ) 有效的移动光标
当光标从一点移动到另外一点，在这两点之间的文本（包括这两个点）称作被“跨过”，这里的命令也被称作是 **motion**。（简单说明一下，后面会用到这个重要的概念）

- fx ( forword to x ): 移动光标到 *当前行* 的 下一个 x 处，x 表示任意单个字符,区分大小写。例：fa:移动光标到当前行的下一个字母a处。
- Fx : 同上，区别在于方向相反，移动光标到当前行的上一个 x 处。
- w ( word ) : 光标向前移动一个词。
- b ( back word ): 光标向后移动一个词。
- 0 ( 数字0 ) ： 移动光标到当前行首。
- $ : 移动光标到行尾。
- ^ ：移动光标到本行第一个非blank字符处。
- g_ : 移动光标到本行最后一个非blank字符处。
- )：移动光标到下个句子。
- (：移动光标到上个句子。

### 在整个文件 ( file ) 里有效的移动光标
- < c-f > （ Ctrl+forward ）: 向下移动一屏。
- < c-b > （ Ctrl+backward ）：向上移动一屏。
- gg （ go ）: 移动光标到文件首。
- G ：移动光标到文件尾。
- numgg ( num go go ) : 移动光标到指定行即num行。num表示数字，比如 10gg 就是移动到第10行。等价于 numG/:num 。10gg/10G/:10 都是移动光标到第10行。
- \* : 读取光标处的字符串，并且移动光标到它再次出现的地方.
- /text：从当前光标处开始搜索字符串 text，并且到达 text 出现的地方。必须使用回车来开始这个搜索命令。如果想重复上次的搜索的话，按 n。
- ?text：和上面类似，但是反方向。

### 快速进入插入模式 ( insert mode )
- i （ insert ）：在当前字符的左边插入
- I：在当前行首插入
- a （ append ）：在当前字符的右边插入
- A：在当前行尾插入
- o （ open ）：在当前行下面插入一个新行
- O：在当前行上面插入一个新行
- c （ change ）{motion}：删除 motion 命令跨过的字符，并且进入插入模式。比如：c$，这将会删除从光标位置到行尾的字符并且进入插入模式。ct！，这会删除从光标位置到下一个叹号（但不包括），然后进入插入模式。被删除的字符被存在了剪贴板里面，并且可以再粘贴出来。
- d （ delete ）{motion}：和上面差不多，但是不进入插入模式。

### 在可视模式 ( visual mode ) 下选中
在 visual mode 选中的内容会被高亮，可能经常会有以下几个操作。

- d：剪贴选择的内容到剪贴板。
- y：拷贝选择的内容到剪贴板。
- c：剪贴选择的内容到剪贴板并且进入插入模式。

### 在非可视选择模式下剪切和拷贝
- d( delete ){motion}：剪切 motion 命令跨过的字符到剪贴板。比如，dw 会剪切一个词; dfS 会将从当前光标到下一个 S 之间的字符剪切至剪贴板。
- y( yank ){motion}：和上面类似，不过是拷贝。
- c( change ){motion}：和 d( delete ){motion} 类似，不过最后进入插入模式。
- dd：剪切当前行(至剪贴板)。
- yy：拷贝当前行（至剪贴板）。
- Y：拷贝当前行（至剪贴板）。
- cc：剪切当前行并且进入插入模式。
- D：剪切从光标位置到行尾(到剪贴板)。
- C：和 D 类似，最后进入插入模式。
- x：剪切(当前字符到剪贴板)。
- s：和x类似，不过最后进入插入模式。

### 粘贴
- p ( paste )(小写p) : 在当前行后粘贴。
- P（ 大写P ）: 在当前行前粘贴。

### 使用数字
在很多 vim 的命令之前都可以使用一个数字，这个数字将会告诉 vim 这个命令需要执行几次。比如：

- 3j : 将会把光标向下移动三行。
- 10dd : 将会删除十行。
- y3″ : 将会拷贝从当前光标到第三个出现的引号之间的内容到剪贴板。 数字是扩展 motion 命令作用域非常有效的方法。

### 用vim写代码
vim 是程序员专用，自然有一些特性是专门为程序员而设计的。这里是一些常用的：

- ]p：和 p 的功能差不多，但是它会自动调整被粘贴的文本的缩进去适应当前代码的位置。试一下！
- %：匹配花括号、方括号、括号等。光标在一个括号的上面，然后按 %，鼠标就会出现在匹配的另外一半括号处。
- \>>：缩进所有选择的代码
- \<<：和上面类似，但是反缩进
- gd ( go to definition )：到达光标所在处函数或者变量的定义处。
- K：在 Man 里面查找光标当前所在处的词。

#### 参考资料
- [Vim学习笔记](http://mturing.com/wiki/wikihtml/Vim%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html)